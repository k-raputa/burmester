(this.webpackJsonp=this.webpackJsonp||[]).push([["udg-download-cms-element"],{"/y9i":function(e,n,a){var t=a("wo7y");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);(0,a("SZ7m").default)("59d42b74",t,!0,{})},"3wN5":function(e,n){e.exports='{% block sw_cms_element_udg_download%}\n    <div class="sw-cms-el-udg-download">\n        <a :href="mediaUrl">Download</a>\n    </div>\n{% endblock %}\n'},"4iLH":function(e,n){e.exports='{% block sw_cms_element_gallery_preview %}\n    <div class="sw-cms-el-preview-udg-download">\n        <div class="sw-cms-el-preview-udg-download-preview">\n            <p>Lorem Ippsim</p>\n            <p>PDF - 2MB</p>\n        </div>\n        <div class="sw-cms-el-preview-udg-download-preview__action">Download</div>\n    </div>\n{% endblock %}\n'},"62WQ":function(e,n,a){"use strict";a.r(n);var t=a("3wN5"),i=a.n(t);a("DDGi");const{Component:l,Mixin:o}=Shopware;l.register("sw-cms-el-udg-download",{template:i.a,mixins:[o.getByName("cms-element")],computed:{displayModeClass(){return"standard"===this.element.config.displayMode.value?null:`is--${this.element.config.displayMode.value}`},styles(){return{"min-height":"cover"===this.element.config.displayMode.value&&0!==this.element.config.minHeight.value?this.element.config.minHeight.value:"340px","align-self":this.element.config.verticalAlign.value?this.element.config.verticalAlign.value:null}},mediaUrl(){const e=Shopware.Context.api,n=this.element.data.media;if("mapped"===this.element.config.media.source){const e=this.getDemoValue(this.element.config.media.value);if(e&&e.url)return e.url}return n&&n.id?this.element.data.media.url:n&&n.url?`${e.assetsPath}${n.url}`:`${e.assetsPath}/administration/static/img/cms/preview_mountain_large.jpg`}},watch:{cmsPageState:{deep:!0,handler(){this.$forceUpdate()}}},created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig("udg-download"),this.initElementData("udg-download")}}});var s=a("XZK7"),d=a.n(s);a("/y9i");const{Component:m,Mixin:c}=Shopware;m.register("sw-cms-el-config-udg-download",{template:d.a,mixins:[c.getByName("cms-element")],inject:["repositoryFactory"],data:()=>({mediaModalIsOpen:!1,initialFolderId:null}),computed:{mediaRepository(){return this.repositoryFactory.create("media")},uploadTag(){return`cms-element-media-config-${this.element.id}`},previewSource(){return this.element.data&&this.element.data.media&&this.element.data.media.id?this.element.data.media:this.element.config.media.value}},created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig("image")},onImageUpload({targetId:e}){this.mediaRepository.get(e,Shopware.Context.api).then(e=>{this.element.config.media.value=e.id,this.updateElementData(e),this.$emit("element-update",this.element)})},onImageRemove(){this.element.config.media.value=null,this.updateElementData(),this.$emit("element-update",this.element)},onCloseModal(){this.mediaModalIsOpen=!1},onSelectionChanges(e){const n=e[0];this.element.config.media.value=n.id,this.updateElementData(n),this.$emit("element-update",this.element)},updateElementData(e=null){this.$set(this.element.data,"mediaId",null===e?null:e.id),this.$set(this.element.data,"media",e)},onOpenMediaModal(){this.mediaModalIsOpen=!0},onChangeMinHeight(e){this.element.config.minHeight.value=null===e?"":e,this.$emit("element-update",this.element)},onChangeDisplayMode(e){"cover"===e?this.element.config.verticalAlign.value=null:this.element.config.minHeight.value="",this.$emit("element-update",this.element)}}});var r=a("4iLH"),p=a.n(r);a("Kd52");const{Component:g}=Shopware;g.register("sw-cms-el-preview-udg-download",{template:p.a}),Shopware.Service("cmsService").registerCmsElement({name:"udg-download",label:"sw-cms.elements.udgDownload.label",component:"sw-cms-el-udg-download",configComponent:"sw-cms-el-config-udg-download",previewComponent:"sw-cms-el-preview-udg-download",defaultConfig:{media:{source:"static",value:null,required:!0,entity:{name:"media"}},displayMode:{source:"static",value:"standard"}}});var u=a("cp7Q"),w=a("96l2");Shopware.Locale.extend("de-DE",u),Shopware.Locale.extend("en-GB",w)},"96l2":function(e){e.exports=JSON.parse('{"sw-cms":{"elements":{"udgDownload":{"label":"Downloads","config":{"label":{"media":"File"}}}}}}')},DDGi:function(e,n,a){var t=a("eq0N");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);(0,a("SZ7m").default)("4f5e9ac5",t,!0,{})},Kd52:function(e,n,a){var t=a("g4Ir");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);(0,a("SZ7m").default)("7e17d346",t,!0,{})},XZK7:function(e,n){e.exports='{% block sw_cms_element_image_config %}\n<div class="sw-cms-el-config-image">\n    {% block sw_cms_element_image_config_media_upload %}\n    <sw-cms-mapping-field :label="$tc(\'sw-cms.elements.udgDownload.config.label.media\')" valueTypes="entity" entity="media" v-model="element.config.media">\n        <sw-media-upload variant="regular"\n                         :uploadTag="uploadTag"\n                         :source="previewSource"\n                         :allowMultiSelect="false"\n                         :defaultFolder="cmsPageState.pageEntityName"\n                         :caption="$tc(\'sw-cms.elements.general.config.caption.mediaUpload\')"\n                         @media-upload-sidebar-open="onOpenMediaModal"\n                         @media-upload-remove-image="onImageRemove">\n        </sw-media-upload>\n\n        <div class="sw-cms-el-config-image__mapping-preview" slot="preview" slot-scope="{ demoValue }">\n            <img :src="demoValue.url" v-if="demoValue.url">\n            <sw-alert class="sw-cms-el-config-image__preview-info" variant="info" v-else>\n                {{ $tc(\'sw-cms.detail.label.mappingEmptyPreview\') }}\n            </sw-alert>\n        </div>\n    </sw-cms-mapping-field>\n\n    <sw-upload-store-listener\n        :uploadTag="uploadTag"\n        autoUpload\n        @media-upload-finish="onImageUpload">\n    </sw-upload-store-listener>\n    {% endblock %}\n\n    {% block sw_cms_element_image_config_display_mode %}\n    <sw-select-field :label="$tc(\'sw-cms.elements.general.config.label.displayMode\')"\n                     v-model="element.config.displayMode.value"\n                     @change="onChangeDisplayMode">\n        <option value="standard">{{ $tc(\'sw-cms.elements.general.config.label.displayModeStandard\') }}</option>\n    </sw-select-field>\n    {% endblock %}\n\n    {% block sw_cms_element_image_config_media_modal %}\n    <sw-media-modal\n        variant="regular"\n        v-if="mediaModalIsOpen"\n        :caption="$tc(\'sw-cms.elements.general.config.caption.mediaUpload\')"\n        :entityContext="cmsPageState.entityName"\n        :allowMultiSelect="false"\n        :initialFolderId="cmsPageState.defaultMediaFolderId"\n        @media-upload-remove-image="onImageRemove"\n        @media-modal-selection-change="onSelectionChanges"\n        @modal-close="onCloseModal">\n    </sw-media-modal>\n    {% endblock %}\n</div>\n{% endblock %}\n'},cp7Q:function(e){e.exports=JSON.parse('{"sw-cms":{"elements":{"udgDownload":{"label":"Downloads","config":{"label":{"media":"Datei"}}}}}}')},eq0N:function(e,n,a){},g4Ir:function(e,n,a){},wo7y:function(e,n,a){}},[["62WQ","runtime","vendors-node"]]]);